import{r as s,a,F as l,j as e,b as $,c as D,d as C,s as M,e as R}from"./config.5c3d81e4.js";import{S as B,H as j,R as F,a as E}from"./Spinner.d41a2331.js";import{P}from"./Paginator.3ee33d62.js";import"./axios.b95f0d2f.js";const H=()=>{const[n,_]=s.exports.useState([]),[y,h]=s.exports.useState(!0),[u,i]=s.exports.useState(1),[r,w]=s.exports.useState(!1),[o,x]=s.exports.useState(""),[c,g]=s.exports.useState(""),[d,v]=s.exports.useState(""),[p,f]=s.exports.useState(""),[m,N]=s.exports.useState("latest"),b=()=>{i(1),x(""),g(""),v(""),f(""),N("latest")},k=()=>{D.get(`${C}/mail-stories/get/data?page=${u}&search=${o}&searchMm=${c}&startDate=${d}&endDate=${p}&sortBy=${m}`).then(({data:t})=>{h(!1),_(t.data)}).catch(function(t){h(!1);let S=t.response;M(S.data.message,"error")})};return s.exports.useEffect(()=>{k()},[u,o,c,m,d,p]),a(l,{children:[a("div",{className:`${r?"opacity-50 blur-sm pointer-events-none duration-300":""}`,children:[a("div",{className:" flex place-content-center text-xl items-center pt-4 gap-1",children:[e("ion-icon",{name:"book-outline"}),window.locale_mail_stories]}),y?e("div",{className:"flex justify-center",children:e(B,{width:200,height:200})}):e(l,{children:n.data.length>0?a(l,{children:[e("button",{className:"sky-button-rounded my-2",onClick:()=>{w(!r)},children:a("div",{className:"flex items-center gap-1",children:[e("ion-icon",{name:"filter-outline"}),window.locale_filter]})}),a("div",{className:"gird grid-cols-1",children:[e("div",{className:"overflow-auto rounded-lg shadow-md",children:a("table",{className:"w-full",children:[e("thead",{className:"bg-slate-800 text-white",children:a("tr",{children:[e("th",{className:"p-3 w-auto text-sm font-semibold tracking-wide whitespace-nowrap text-left",children:window.locale_name}),e("th",{className:"p-3 w-auto text-sm font-semibold tracking-wide whitespace-nowrap text-left",children:window.locale_mm_name}),e("th",{className:"p-3 w-auto text-sm font-semibold tracking-wide whitespace-nowrap text-left",children:window.locale_stories_count}),e("th",{className:"p-3 w-auto text-sm font-semibold tracking-wide whitespace-nowrap text-left",children:window.locale_created_at})]})}),e("tbody",{className:"divide-y divide-gray-100 dark:divide-gray-500",children:n.data.map(t=>a("tr",{className:"bg-slate-100 dark:bg-slate-700 font-medium hover:bg-slate-200 dark:text-slate-300 dark:hover:bg-slate-500",children:[e("td",{className:"p-3 text-sm whitespace-nowrap text-sky-500 underline hover:text-white",children:e("a",{href:`${$}/admin/mail-stories/${t.slug}`,children:t.name})}),e("td",{className:"p-3 text-sm whitespace-nowrap",children:t.mm_name}),e("td",{className:"p-3 text-sm whitespace-nowrap",children:t.stories_count}),e("td",{className:"p-3 text-sm whitespace-nowrap",children:t.created_at})]},t.id))})]})}),e(P,{links:n.links,current_page:n.current_page,next_page_url:n.next_page_url,prev_page_url:n.prev_page_url,setPage:i})]})]}):e(l,{children:e("p",{className:" text-center mt-9",children:window.locale_no_records})})})]}),r&&e("div",{className:"filter-options-div",children:a("div",{children:[a("div",{className:"flex items-center gap-4",children:[e("div",{children:e("button",{type:"button",id:"filter-options-close",onClick:()=>{w(!r)},className:"sky-button-rounded pt-1 px-0 py-0 w-8 h-8",children:e("span",{className:"text-lg",children:e("ion-icon",{name:"close-outline"})})})}),e("div",{children:e("button",{type:"button",id:"filter-options-close",onClick:()=>{b()},className:"sky-button-rounded",children:e("div",{className:"p-0 m-0 flex items-center",children:a("div",{className:"flex items-center",children:[e("span",{className:"text-lg pt-1",children:e("ion-icon",{name:"trash-outline"})}),window.locale_clear_filter]})})})})]}),a("div",{className:"grid grid-cols-1 lg:text-left my-2",children:[a("div",{className:"px-4 py-2",children:[e("span",{children:window.locale_name}),e("input",{type:"text",value:o,onChange:t=>{i(1),x(t.target.value)},className:"input-content"})]}),a("div",{className:"px-4 py-2",children:[e("span",{children:window.locale_mm_name}),e("input",{type:"text",value:c,onChange:t=>{i(1),g(t.target.value)},className:"input-content"})]}),a("div",{className:"px-4 py-2 text-left",children:[e("span",{children:window.locale_start_date}),e("input",{name:"startDate",type:"datetime-local",value:d,onChange:t=>{v(t.target.value)},className:"input-content"})]}),a("div",{className:"px-4 py-2 text-left",children:[e("span",{children:window.locale_end_date}),e("input",{name:"endDate",type:"datetime-local",value:p,onChange:t=>{f(t.target.value)},className:"input-content"})]}),e("div",{className:"px-4 py-2 text-left",children:e("div",{className:"flex gap-5",children:a("div",{children:[e("span",{children:window.locale_sort_by}),a("select",{onChange:t=>{N(t.target.value)},value:m,name:"sortBy",id:"category-sort-by-select",className:"text-black px-1 w-23 focus:outline-none block mt-2 border border-sky-400 shadow-md",children:[e("option",{value:"latest",children:window.locale_latest}),e("option",{value:"oldest",children:window.locale_oldest})]})]})})})]})]})})]})},L=()=>e(l,{children:e(j,{children:e(F,{children:e(E,{path:"/",element:e(H,{})})})})});R(document.getElementById("root")).render(e(L,{}));
