import{r as s,a as n,j as e,F as _,f as S,d as k,s as b,e as I}from"./config.5c3d81e4.js";import{S as H,H as O,R as A,a as J}from"./Spinner.d41a2331.js";import{l as C}from"./quill.snow.5eddaa50.js";import{S as T,i as q}from"./react-select-animated.esm.a35da4cb.js";import{B as z}from"./ButtonLoading.4ae85373.js";import"./axios.b95f0d2f.js";const G=()=>{const[l,d]=s.exports.useState(""),[m,p]=s.exports.useState(""),[u,h]=s.exports.useState(""),[g,x]=s.exports.useState(""),[f,N]=s.exports.useState([]),[M,R]=s.exports.useState([]),[D,L]=s.exports.useState(!0),[r,o]=s.exports.useState(!1),[$,w]=s.exports.useState(null),[a,y]=s.exports.useState([]),v=s.exports.useRef(null),j=()=>{S.get(`${k}/categories/get/select/data`).then(({data:t})=>{L(!1),R(t.data)})},B=()=>{o(!0);const t=new FormData;t.append("name",l),t.append("mm_name",m),t.append("description",u),t.append("mm_description",g),t.append("categories",JSON.stringify(f)),t.append("image",$),t.append("admin_id",window.auth.id),S.post(`${k}/stories/create`,t).then(({data:i})=>{o(!1),E(),b(i.data.message,"success")}).catch(function(i){o(!1);let c=i.response.data;y(c.errors),c.errors.errors&&b(c.errors.errors[0],"error")})},E=()=>{d(""),p(""),h(""),x(""),w(null),v.current.value=null,N([]),y([])},F=t=>{w(t.target.files[0])};return s.exports.useEffect(()=>{j()},[]),n("div",{className:"mt-4",children:[n("div",{className:"flex items-center gap-3 place-content-center text-xl",children:[e("ion-icon",{name:"book-outline"}),window.story_create]}),D?e(_,{children:e("div",{className:"flex place-content-center mt-32",children:e(H,{width:200,height:200})})}):e("div",{className:`grid grid-cols-1 p-3 my-2 ${r?"opacity-70 pointer-events-none":""}`,children:n("div",{className:"rounded-3xl w-auto bg-slate-100 dark:bg-slate-600 dark:text-white py-3 px-7 shadow-md",children:[n("div",{className:"py-2",children:[e("p",{children:window.name}),e("input",{type:"text",value:l,onChange:t=>{d(t.target.value)},placeholder:"Name",className:"input-content lg:w-1/2"}),a.name&&e("p",{className:"text-red-500 dark:text-red-400 font-normal",children:a.name[0]})]}),n("div",{className:"py-2",children:[e("p",{children:window.mm_name}),e("input",{type:"text",value:m,onChange:t=>{p(t.target.value)},placeholder:"MM Name",className:"input-content lg:w-1/2"}),a.mm_name&&e("p",{className:"text-red-500 dark:text-red-400 font-normal",children:a.mm_name[0]})]}),n("div",{className:"py-2",children:[e("p",{children:window.categories}),e("div",{className:"text-black",children:e(T,{className:"focus:outline-none focus:ring focus:ring-sky-400 lg:w-1/2 my-1",closeMenuOnSelect:!1,components:q(),isMulti:!0,value:f,onChange:N,options:M})}),a.categories&&e("p",{className:"text-red-500 dark:text-red-400 font-normal",children:a.categories[0]})]}),n("div",{className:"py-2",children:[e("p",{className:"mb-1",children:window.image}),e("input",{type:"file",onChange:F,className:"input-file",ref:v}),a.image&&e("p",{className:"text-red-500 dark:text-red-400 font-normal",children:a.image[0]})]}),n("div",{className:"py-2",children:[e("p",{children:window.description}),e("div",{className:"bg-white text-black my-1",children:e(C,{theme:"snow",value:u,onChange:h,className:"w-full h-full"})}),a.description&&e("p",{className:"text-red-500 dark:text-red-400 font-normal",children:a.description[0]})]}),n("div",{className:"py-2",children:[e("p",{children:window.mm_description}),e("div",{className:"bg-white text-black my-1",children:e(C,{theme:"snow",value:g,onChange:x,className:"w-full h-full"})}),a.mm_description&&e("p",{className:"text-red-500 dark:text-red-400 font-normal",children:a.mm_description[0]})]}),e("div",{className:"py-2 text-center",children:e("button",{className:`sky-button-rounded ${r?"opacity-70":""}`,onClick:B,disabled:r,children:n("div",{className:"flex items-center gap-1",children:[r?e(z,{cl:"pr-1 py-1"}):e("ion-icon",{name:"checkmark-outline"}),e("span",{children:window.create})]})})})]})})]})},K=()=>e(_,{children:e(O,{children:e(A,{children:e(J,{path:"/",element:e(G,{})})})})});I(document.getElementById("root")).render(e(K,{}));
